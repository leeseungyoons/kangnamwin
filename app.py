import streamlit as st
import pandas as pd

# ========================
# νμ΄μ§€ κΈ°λ³Έ μ„¤μ •
# ========================
st.set_page_config(
    page_title="Hμ΅° μμ„ & μ‹λ‚λ¦¬μ¤",
    page_icon="π†",
    layout="wide",
)

# ========================
# λ°μ΄ν„° μ¤€λΉ„
# ========================
standings_data = [
    {"ν€": "μ¤‘μ•™λ€", "μΉ": 5, "ν¨": 1},
    {"ν€": "κ°•λ‚¨λ€", "μΉ": 3, "ν¨": 2},
    {"ν€": "μ‹λ¦½λ€", "μΉ": 3, "ν¨": 2},
    {"ν€": "μΈν•λ€", "μΉ": 3, "ν¨": 3},
    {"ν€": "λ…μ§€λ€", "μΉ": 0, "ν¨": 6},
]

remaining_games = [
    "β‘  κ°•λ‚¨λ€ vs μ‹λ¦½λ€",
    "β‘΅ κ°•λ‚¨λ€ vs μΈν•λ€",
    "β‘Ά κ°•λ‚¨λ€ vs μ¤‘μ•™λ€",
    "β‘£ λ…μ§€λ€ vs μ‹λ¦½λ€",
    "β‘¤ λ…μ§€λ€ vs μ¤‘μ•™λ€",
    "β‘¥ μ‹λ¦½λ€ vs μΈν•λ€",
]

scenarios = {
    "κ°•λ‚¨λ€ (3μΉ 2ν¨)": {
        "ν™•μ • λ£¨νΈ": "λ‚¨μ€ 3κ²½κΈ° μ „μΉ μ‹ 6μΉ 2ν¨ β†’ 2μ„ ν™•μ •",
        "μ λ ¥ λ£¨νΈ": "2μΉ 1ν¨ μ‹ 5μΉ 3ν¨ β†’ μ‹λ¦½ β‰¤4μΉ or λ§λ€κ²° μ°μ„",
        "μ„ν— λ£¨νΈ": "1μΉ 2ν¨ μ‹ νƒλ½ κ°€λ¥μ„± β†‘, μ „ν¨ μ‹ 2μ„ λ¶κ°€",
    },
    "μ‹λ¦½λ€ (3μΉ 2ν¨)": {
        "ν™•μ • λ£¨νΈ": "3μΉ μ „μΉ β†’ 6μΉ 2ν¨ ν™•μ •",
        "μ λ ¥ λ£¨νΈ": "2μΉ 1ν¨ μ‹ 5μΉ 3ν¨ β†’ κ°•λ‚¨ β‰¤4μΉ or λ§λ€κ²° μ°μ„",
        "μ„ν— λ£¨νΈ": "1μΉ μ΄ν• μ‹ μ‚¬μ‹¤μƒ νƒλ½",
    },
    "μΈν•λ€ (3μΉ 3ν¨)": {
        "ν•„μ μ΅°κ±΄": "λ‚¨μ€ κ²½κΈ° μ „μΉ(5μΉ 3ν¨) + κ°•λ‚¨ or μ‹λ¦½ λ¶€μ§„ ν•„μ”",
        "μ¶”κ°€ μ΅°κ±΄": "κ°•λ‚¨ μƒλ€λ΅ 4μ μ°¨ μ΄μƒ μΉλ¦¬ ν•„μ” / μ‹λ¦½ μƒλ€λ΅λ” -13 λ¶λ¦¬",
        "ν„μ‹¤μ  κ²°λ΅ ": "μ΄λ³€ μ—†μΌλ©΄ νλ“¦",
    },
}

notes = [
    "π“ μ¤‘μ•™λ€λ” λ‚¨μ€ κ²½κΈ° 1μΉλ§ ν•λ©΄ 1μ„ ν™•μ •μ ",
    "π“ κ°•λ‚¨λ€λ” μƒμ„κ¶κ³Όλ§ λ‚¨μ•„ μΌμ •μ΄ λΉ΅μ…",
    "π“ μ‹λ¦½λ€λ” λ…μ§€μ „μ΄ μμ–΄ μƒλ€μ μΌλ΅ μ λ¦¬",
    "π“ 2μ„ μ‹Έμ›€ ν•µμ‹¬: κ°•λ‚¨ vs μ‹λ¦½ λ§λ€κ²°",
    "π“ μΉμμΉ + λ“μ‹¤μ°¨κΉμ§€ κ³„μ‚°ν•΄μ•Ό μµμΆ… μμ„ κ²°μ •",
]

# ========================
# μ λ©/μ†κ°
# ========================
st.title("π† Hμ΅° μμ„ & μ‹λ‚λ¦¬μ¤")
st.markdown(
    """
    κ°•λ‚¨λ€, μ‹λ¦½λ€, μΈν•λ€κ°€ μΉμ—΄ν•κ² κ²½μ μ¤‘μΈ **Hμ΅° μμ„ μƒν™©**μ„ μ •λ¦¬ν–μµλ‹λ‹¤.  
    μ¤‘μ•™λ€λ” μ‚¬μ‹¤μƒ 1μ„λ¥Ό ν™•μ •ν–κ³ , 2μ„ μ‹Έμ›€μ€ **κ°•λ‚¨ vs μ‹λ¦½ λ§λ€κ²°**μ΄ μµλ€ λ¶„μλ Ή!  
    """
)

# ========================
# ν„μ¬ μμ„ ν‘
# ========================
st.header("π“ ν„μ¬ μμ„")
df = pd.DataFrame(standings_data)
df["κ²½κΈ°μ"] = df["μΉ"] + df["ν¨"]
df["μΉλ¥ "] = (df["μΉ"] / df["κ²½κΈ°μ"]).round(3)
df = df[["ν€", "κ²½κΈ°μ", "μΉ", "ν¨", "μΉλ¥ "]]

st.dataframe(
    df,
    use_container_width=True,
    hide_index=True,
)

# ========================
# μ”μ—¬ κ²½κΈ°
# ========================
st.header("π“… μ”μ—¬ κ²½κΈ°")

for i, game in enumerate(remaining_games, start=1):
    st.markdown(
        f"""
        <div style='padding:12px; margin-bottom:10px;
                    background-color:#111111; border:1px solid #444;
                    border-radius:8px; color:#ffffff; font-size:16px;'>
        <b>κ²½κΈ° {i}</b> β”οΈ {game}
        </div>
        """,
        unsafe_allow_html=True,
    )

# ========================
# ν€λ³„ μ‹λ‚λ¦¬μ¤
# ========================
st.header("π” ν€λ³„ μ‹λ‚λ¦¬μ¤")

cols = st.columns(3)
for i, (team, paths) in enumerate(scenarios.items()):
    with cols[i]:
        st.subheader(team)
        for k, v in paths.items():
            if "ν™•μ •" in k or "ν•„μ" in k:
                st.success(f"**{k}:** {v}")
            elif "μ λ ¥" in k or "μ¶”κ°€" in k:
                st.info(f"**{k}:** {v}")
            else:
                st.error(f"**{k}:** {v}")

# ========================
# ν•µμ‹¬ ν¬μΈνΈ
# ========================
st.header("π“ ν•µμ‹¬ ν¬μΈνΈ")
for n in notes:
    st.markdown(f"- {n}")

# ========================
# μ‹λ‚λ¦¬μ¤ νλ¦„ (νΈλ¦¬)
# ========================
st.header("π³ μ‹λ‚λ¦¬μ¤ νλ¦„ (ν…μ¤νΈ)")
st.code(
    """\
[μ¤‘μ•™λ€ 5-1] β†’ λ‚¨μ€ κ²½κΈ° 1μΉ μ‹ 1μ„ ν™•μ •
   |
   +-- [κ°•λ‚¨λ€ vs μ‹λ¦½λ€] β†’ 2μ„ κ²½μ ν•µμ‹¬
   |
   +-- μΈν•λ€: μ „μΉ + νƒ€ν€ λ¶€μ§„ ν•„μ”
   |
   +-- λ…μ§€λ€: μ„Έλ€κµμ²΄, μ΄λ―Έ ν•μ„κ¶ ν™•μ •
""",
    language="text",
)
